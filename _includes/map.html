<!-- 
    https://davidjvitale.com/tech/jekyll-leaflet/
    https://leafletjs.com/examples/quick-start/
    https://leaflet-extras.github.io/leaflet-providers/preview/

-->
<div id="map"></div>
<script>
    var map = new L.Map("map", {
        center: new L.LatLng(44.4949, 11.3426),
        zoom: 2,
    });
    var layer = new L.StamenTileLayer("toner-lite");
    map.addLayer(layer);

    map.gestureHandling.enable();

    {%- for post in site.posts -%}
        {% if post.location.latitude and post.location.longitude %}
            L.marker([ {{post.location.latitude}}, {{post.location.longitude}} ], { title: '{{post.title}}'}).addTo(map).on('click', function(e) { window.open('{{post.url | relative_url}}','_self'); });
        {% endif %}
    {% endfor %}

</script>
